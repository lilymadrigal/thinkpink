<!DOCTYPE html>
<html>
        <head>
                <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
                <title> Order Form </title>
                <style>
                        .info {
                                display: block;
                                margin-bottom: 10px;
                        }
                </style>
        </head>
        <body>
                <script language="javascript">
                        $(document).ready (function() {
                                $(".selectQuantity select").change(function(){
                                        index = parseInt(this.name.substr(4));
                                        price = (pinkItems[index].cost);
                                        quan = this.selectedIndex;
                                        totalCost = price * quan;
                                        document.forms[0].cost[index].value = totalCost.toFixed(2);
                                        document.forms[0].subtotal.value += totalCost.toFixed(2);
                                        //parseInt(document.forms[0].subtotal.value);
                                        // number = $("#subtotal").value;
                                        // $("#subtotal").value = number + totalCost; 
                                })
                                
                                $(".totalCost ").change(function() {
                                        // subtotal = document.getElementById("subtotal").innerHTML; //+= this.value;
                                        // alert(subtotal);
                                        document.forms[0].subtotal.value += totalCost.toFixed(2);
                                        //alert(this.input.value);
                                })
                        })

                        function PinkItem(name, cost)
                        {
                                this.name = name;
                                this.cost=cost;
                        }

                        pinkItems = new Array(
                                new PinkItem("Thing 1", 5.5),
                                new PinkItem("Thing 2", 7.25),
                                new PinkItem("Thing 3", 6.80),
                                new PinkItem("Thing 4", 9.50),
                                new PinkItem("Thing 5", 3.25),
                                new PinkItem("Thing 6", 3.25),
                                new PinkItem("Thing 7", 3.25)
                        );

                        function makeSelect(name, minRange, maxRange)
                        {
                                var t= "";
                                t = "<select name='" + name + "' size='1'>";
                                for (j=minRange; j<=maxRange; j++)
                                t += "<option>" + j + "</option>";
                                t+= "</select>"; 
                                return t;
                        }

                        function td(content, className="")
                        {
                                return "<td class = '" + className + "'>" + content + "</td>";
                        }
                </script>
                <h1 id="orderForm"> Order Form </h1>
                <form>
                        <p class="info"><label>First Name:</label> <input type="text"  name='fname' /></p>
                        <p class="info"><label>Last Name*:</label>  <input type="text"  name='lname' /></p>
                        <p class="info address"><label>Street*:</label> <input type="text" name='street' /></p> <!-- has extra class that would make it easier to hide/modify-->
                        <p class="info address"><label>City*:</label> <input type="text" name='city' /></p>	    <!-- has extra class that would make it easier to hide/modify-->
                        <p class="info"><label>Phone*:</label> <input type="text"  name='phone' /></p>

                        <table border="0" cellpadding="3">
                                <tr>
                                  <th> Select Quantity </th>
                                  <th> Item </th>
                                  <th> Cost per Item </th>
                                  <th> Total Cost </th>
                                </tr>
                        
                        <script>
                                var s = "";
                                for (i=0; i< pinkItems.length; i++)
                                {
                                        s += "<tr>";
                                        s += td(makeSelect("quan" + i, 0, 10),"selectQuantity");
                                        s += td(pinkItems[i].name, "itemName");
                                        s += td("$" +pinkItems[i].cost.toFixed(2), "cost");
                                        s += td("$<input type='text' name='cost' class='completeCost'/>", "totalCost");
                                        s+= "</tr>";
                                }
                                document.writeln(s);
                        </script>
                        </table>
                        <p class="subtotal totalSection"><label>Subtotal</label>: 
                                $ <input type="text"  name='subtotal' id="subtotal" />
                        </p>
                        <p class="tax totalSection"><label>Mass tax 6.25%:</label>
                                $ <input type="text"  name='tax' id="tax" />
                        </p>
                        <p class="total totalSection"><label>Total:</label> $ <input type="text"  name='total' id="total" />
                        </p>
                        
                        <input type = "button" value = "Submit Order" />
                             
                </form>
                
        </body>
</html>